<app-dots-loader *ngIf="isLoader"></app-dots-loader>
<div class="container">
    <div class="row mb-4 mt-3">
        <div class="col-lg-4 col-xs-12 text-left">

            <input type="text" class="form-control searchbar" [(ngModel)]="searchText" placeholder="Search..." (keyup)="searchPromoCode($event)">

        </div>
        <div class="col-lg-5 col-md-5 col-sm-12  p-0  text-right ">
            <input placeholder="Select a range..." class="form-control searchbar" [(ngModel)]="dateTimeRange" [selectMode]="'range'" [owlDateTimeTrigger]="dtRange1" [owlDateTime]="dtRange1" [max]="max" hour12Timer [readonly]="true" (ngModelChange)="getPromoCodeByRange()">
            <button type="button" class="btn remove-time" (click)="clearValue()">
        <i class="fa fa-times mr-2" aria-hidden="true"></i>
      </button>

            <owl-date-time #dtRange1></owl-date-time>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12 col-xs-12">
            <div class="table-responsive">
                <table class="table table-fixed">
                    <thead>
                        <th>Promo Code Name</th>
                        <th>Valid From</th>
                        <th>Valid To</th>
                        <th>No Limit</th>
                        <th>Number of Uses</th>
                        <th class="text-center">Action</th>
                    </thead>
                    <tbody>
                        <tr *ngFor="let promoData of promoCodeData; let i=index;">
                            <td class="pt-3 pb-2">{{promoData.promoCode}}</td>
                            <td class="pt-2 pb-2">{{promoData.dateFrom}}</td>
                            <td class="pt-2 pb-2">{{promoData.dateTo}}</td>
                            <td class="pt-2 pb-2">{{promoData.infinity}}</td>
                            <td class="pt-2 pb-2">{{promoData.noOfLimitedUsers}}</td>
                            <td class="text-center pt-2 pb-3"><i class="fas fa-pencil-alt mr-5" aria-hidden="true" (click)="edit(promoData.id)"></i>
                                <i class="fa fa-trash text-danger" aria-hidden="true" (click)="delete(promoData.id)"></i></td>
                        </tr>
                    </tbody>
                </table>
                <pagination [totalItems]="totalItems" [(ngModel)]="currentPage" (pageChanged)="pageChanged($event)" [maxSize]="5"></pagination>
            </div>
        </div>
    </div>
</div>